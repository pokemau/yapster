{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'chat/styles.css' %}" />
    <script src="{% static 'chat/index.js' %}" defer></script>

    <title>Chat</title>
  </head>

  <body>
    <nav>
      <div id="logo-name-cont">
        <h1>Y</h1>
        <h2>Yapster</h2>
      </div>

      <div id="nav-options">
        <div class="option">
          <img src="{% static 'chat/images/settings.png' %}" alt="Gear Icon" />
        </div>
        <a href="{% url 'friend:friends_list' user_id=user.id %}">Friends</a>
        <a href="{% url 'friend:friend_requests' %}">Friend Requests</a>
        <a href="{% url 'logout' %}">Logout</a>
        <div id="dots" class="option">
          <img
            src="{% static 'chat/images/dots.png' %}"
            alt="Triple Dots Icon"
          />

          <!-- <div id="dots-options" class="hidden">
            <div class="dots-option" id="dots-logout">
              {% if user.is_authenticated %}
              <a href="{% url 'logout' %}">Logout</a>
              {% endif %}
            </div>

            <div class="dots-option" id="dots-friends">
              {% if user.is_authenticated %}
              <a href="{% url 'friend:friends_list' user_id=user.id %}"
                >Friends</a
              >
              {% endif %}
            </div>
          </div> -->
        </div>
        <a href="{% url 'profile_page' %}">
          <!-- ako sa gi change para mu adto profile page -->
          <div id="nav-profile-pic"></div>
        </a>
      </div>
    </nav>

    <div id="main-cont">
      <div id="left-sidebar">
        <div id="search-bar">
          <form method="get" action="{% url 'search_user' %}">
            <input
              type="text"
              name="search"
              placeholder="Search"
              value="{{ query }}"
            />
          </form>
        </div>

        <div id="users-cont">
          {% for user in users %}
          <div
            class="user"
            onclick="loadUserDetails({{user.id }})"
            data-id="{{ user.id }}"
          >
            <div class="left-profile-pic"></div>
            <div class="name-time-msg">
              <div class="name-time">
                <p class="name">
                  {{ user.user.first_name }} {{ user.user.last_name }}
                </p>
                <p class="time-sent">Last seen: 1:06pm</p>
              </div>
              <p class="message">No message available</p>
            </div>
          </div>
          {% empty %}
          <p>No users found.</p>
          {% endfor %}
        </div>
      </div>

      <div id="mid-bar">
        <div id="messages"></div>
        <div id="mid-message">
          <input type="text" placeholder="Your message..." />
          <button>Send</button>
        </div>
      </div>

      <div id="right-sidebar">
        <div id="right-name-x">
          <div id="pic-name-cont">
            <div id="right-profile-pic"></div>
            <p></p>
          </div>
          <div id="close-icon">
            <img src="{% static 'chat/images/close.png' %}" alt="X Icon" />
          </div>
        </div>
        <div id="right-info-cont">
          <div id="right-username">
            <h5></h5>
            <p></p>
          </div>
          <div id="right-bio">
            <h5></h5>
            <p></p>
          </div>
        </div>
        <div id="notifications-cont">
          <h5>Notifications</h5>

          <div class="checkbox-wrapper-2">
            <input type="checkbox" class="sc-gJwTLC ikxBAC" />
          </div>
        </div>
        <div id="user-options-cont">
          <p>Block User</p>
          <p>Clear History</p>
          <p>Delete Conversation</p>
          <a href="#" id="user-b" class="user-option__a">Add Friend</a>
        </div>
      </div>
    </div>
  </body>
</html>
